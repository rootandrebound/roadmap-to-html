function getParameterByName(e,a){a||(a=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var t=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(a);return t?t[2]?decodeURIComponent(t[2].replace(/\+/g," ")):"":null}function searchResultTemplate(e){return'<li class="search-result"><h3 class="search-result__title"><a href="/'+PREFIX+"/"+e.path+'/"class="search-result__link">'+e._highlightResult.title.value+"</a></h3></li>"}function initializeSearch(){var e=algoliasearch(ALGOLIA_APP_ID,ALGOLIA_PUBLIC_KEY).initIndex(ALGOLIA_INDEX_NAME),a=getParameterByName("q");a&&(e.search({query:a,hitsPerPage:50,attributesToRetrieve:["title","heading_text","path","level","objectID"]},function(e,a){if(e)console.error(e);else{var t=$(".search-results__list");for(var l in a.hits){var r=searchResultTemplate(a.hits[l]);t.append($(r))}}}),$(".search-form input").val(a))}function handleTopPages(e){e.slice(1,6).forEach(function(e){$(".popular-pages__list").append('<li class="popular-page"><a href="'+e.url+'">'+e.title+"</a></li>")})}function pullTopPages(){$.getJSON("https://s3.amazonaws.com/rr-roadmap-top-pages-checker/top_pages.json",handleTopPages)}function callByBodyDataPagePath(e,a){$("body").data("page-path")==e&&a()}var ALGOLIA_APP_ID="ER4XGAZU3H",ALGOLIA_PUBLIC_KEY="ad6b289aa74181fef926dc6133bfece7",ALGOLIA_INDEX_NAME="test_ROADMAP",PREFIX="roadmap-to-html";$(function(){callByBodyDataPagePath("search",initializeSearch),callByBodyDataPagePath("",pullTopPages)});